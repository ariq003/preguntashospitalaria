<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SISTÉMICA - Práctica Completa</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; padding: 20px; }
        .container { max-width: 900px; margin: 0 auto; }
        .header { background: white; border-radius: 16px; padding: 24px; margin-bottom: 20px; box-shadow: 0 8px 32px rgba(0,0,0,0.1); }
        .header h1 { color: #5a67d8; font-size: 28px; margin-bottom: 8px; }
        .stats { display: flex; gap: 12px; margin-top: 16px; flex-wrap: wrap; }
        .stat { background: #f3f0ff; padding: 12px 16px; border-radius: 8px; font-size: 14px; flex: 1; text-align: center; }
        .stat strong { color: #5a67d8; font-size: 20px; display: block; }
        .card { background: white; border-radius: 16px; padding: 32px; box-shadow: 0 8px 32px rgba(0,0,0,0.1); }
        .question-number { color: #5a67d8; font-weight: 600; font-size: 14px; margin-bottom: 16px; }
        .question-text { font-size: 18px; line-height: 1.6; color: #2d3748; margin-bottom: 24px; font-weight: 500; }
        .options { display: flex; flex-direction: column; gap: 12px; }
        .option { padding: 16px; border: 2px solid #e2e8f0; border-radius: 12px; cursor: pointer; transition: all 0.2s; font-size: 16px; }
        .option:hover:not(.selected):not(.correct):not(.incorrect) { border-color: #5a67d8; background: #f3f0ff; transform: translateX(4px); }
        .option.selected { border-color: #5a67d8; background: #f3f0ff; }
        .option.correct { border-color: #48bb78; background: #f0fff4; font-weight: bold; }
        .option.incorrect { border-color: #f56565; background: #fff5f5; }
        .option-label { font-weight: 600; margin-right: 8px; color: #5a67d8; }
        .buttons { display: flex; gap: 12px; margin-top: 24px; }
        button { padding: 14px 28px; border: none; border-radius: 10px; font-size: 16px; font-weight: 600; cursor: pointer; flex: 1; }
        .btn-primary { background: #5a67d8; color: white; }
        .btn-secondary { background: #edf2f7; color: #2d3748; }
        .feedback { margin-top: 20px; padding: 16px; border-radius: 12px; font-size: 15px; }
        .feedback.correct { background: #f0fff4; border: 2px solid #48bb78; color: #22543d; }
        .feedback.incorrect { background: #fff5f5; border: 2px solid #f56565; color: #742a2a; }
        .progress-bar { height: 8px; background: #e2e8f0; border-radius: 4px; overflow: hidden; margin-top: 16px; }
        .progress-fill { height: 100%; background: #5a67d8; transition: width 0.3s ease; }
    </style>
</head>
<body>
    <div id="root"></div>
    <script type="text/babel">
        const { useState } = React;

        const questions = [
            {
                question: "1. Ana (33 años) tiene depresión desde la adolescencia. Su pareja Luis dice que el problema es de ella. El terapeuta valida inicialmente esta definición. ¿Qué busca el enfoque sistémico?",
                options: ["Confirmar que la depresión es solo individual.", "Evitar resistencia y favorecer la alianza terapéutica.", "Culpar implícitamente a la pareja.", "Priorizar el tratamiento farmacológico."],
                correct: 1
            },
            {
                question: "2. Sofía presenta depresión. El terapeuta le propone a su esposo Carlos registrar las fluctuaciones del ánimo de ella. ¿Qué permite esto?",
                options: ["Sustituir la voz del paciente.", "Confirmar el diagnóstico clínico.", "Aumentar la implicación relacional en el problema.", "Controlar la conducta del paciente."],
                correct: 2
            },
            {
                question: "3. Según el enfoque sistémico, la depresión se entiende principalmente como:",
                options: ["Trastorno exclusivamente biológico", "Problema intrapsíquico individual", "Un fenómeno relacional y contextual", "Resultado de un trauma infantil reprimido"],
                correct: 2
            },
            {
                question: "4. Una de las funciones de las etiquetas diagnósticas en la pareja, según el texto, es:",
                options: ["Explicar la etiología genética", "Organizar la interacción y mantener un equilibrio relacional (pactos)", "Curar la enfermedad", "Eliminar el estigma social"],
                correct: 1
            },
            {
                question: "5. ¿Qué significa 'externalizar' la depresión en una sesión de pareja?",
                options: ["Hablar de la depresión con personas ajenas a la familia", "Tratar la depresión como un tercer elemento que afecta a ambos, no como una característica de uno", "Fomentar la expresión de ira", "Ignorar los síntomas"],
                correct: 1
            },
            {
                question: "6. El objetivo de las preguntas circulares en este contexto es:",
                options: ["Confundir a los miembros de la pareja", "Explorar cómo la conducta de uno influye en el otro y viceversa", "Determinar quién tiene la razón", "Hacer que el paciente se sienta culpable"],
                correct: 1
            },
            {
                question: "7. En la terapia sistémica, el cambio ocurre cuando:",
                options: ["El paciente toma medicación", "Se modifica la estructura de la interacción y los significados compartidos", "Se descubre el pasado", "Uno de los miembros abandona la terapia"],
                correct: 1
            },
            {
                question: "8. ¿Cuál es un riesgo de que uno de los miembros sea definido siempre como 'el enfermo'?",
                options: ["Que se cure más rápido", "Que se genere una jerarquía rígida de 'ayudante' y 'ayudado' que mantiene el síntoma", "Que mejore la economía familiar", "No tiene riesgos"],
                correct: 1
            },
            {
                question: "9. La 'connotación positiva' de la depresión en pareja implica:",
                options: ["Decir que estar deprimido es bueno", "Atribuir un sentido protector o funcional al síntoma dentro del sistema", "Fomentar el optimismo ciego", "Ignorar el sufrimiento"],
                correct: 1
            },
            {
                question: "10. Cuando el terapeuta pide a la pareja 'discutir' sobre la depresión, el objetivo es:",
                options: ["Analizar y cuestionar el uso del término 'depresión'", "Confirmar quién está deprimido", "Enseñar a controlar las emociones", "Reducir la intensidad de las discusiones"],
                correct: 0
            },
            {
                question: "11. ¿Qué se señala como un 'prejuicio' compartido por clientes y terapeutas?",
                options: ["Aceptar que si la gente pudiera enfadarse estaría menos deprimida", "Pensar que la gente discute demasiado en pareja", "Que la depresión siempre tiene causas biológicas", "Que la depresión no tiene relación con la interacción"],
                correct: 0
            },
            {
                question: "12. En el comentario del texto se afirma que la palabra 'deprimido' se transforma gradualmente en:",
                options: ["Diagnóstico clínico", "Problema individual", "Un concepto compartido", "Síntoma reprimido"],
                correct: 2
            },
            {
                question: "13. Verse el uno al otro comportándose de forma diferente puede:",
                options: ["Reforzar los aparentes pactos de la relación.", "Alterar y perturbar los aparentes pactos que han convenido a la relación.", "Controlar los rumbos inesperados en la terapia.", "Mantener a una persona definida como 'fuerte'."],
                correct: 1
            },
            {
                question: "14. ¿Cuándo es apropiado usar el término 'prevención de recaídas' en sistémica?",
                options: ["Al inicio de la terapia.", "Cuando las personas asumen verse a sí mismas como 'pacientes'.", "Cuando hay otros familiares presentes.", "Nunca se debe usar."],
                correct: 1
            }
        ];

        function App() {
            const [cur, setCur] = useState(0);
            const [sel, setSel] = useState(null);
            const [res, setRes] = useState(false);
            const [pts, setPts] = useState(0);

            const q = questions[cur];
            const prog = ((cur + 1) / questions.length) * 100;

            const onCheck = () => {
                if (sel === q.correct) setPts(pts + 1);
                setRes(true);
            };

            const onNext = () => { setCur(cur + 1); setSel(null); setRes(false); };
            const reset = () => { setCur(0); setSel(null); setRes(false); setPts(0); };

            if (cur >= questions.length) {
                return (
                    <div className="container">
                        <div className="card" style={{textAlign:'center'}}>
                            <h1>¡Módulo Sistémica Finalizado!</h1>
                            <p style={{fontSize:'24px', margin:'20px 0'}}>Puntaje Final: {pts} / {questions.length}</p>
                            <button className="btn-primary" onClick={reset}>Reiniciar Práctica</button>
                        </div>
                    </div>
                );
            }

            return (
                <div className="container">
                    <div className="header">
                        <h1>Módulo: Terapia Sistémica</h1>
                        <p>Pareja y Depresión</p>
                        <div className="stats">
                            <div className="stat"><strong>{pts}</strong>Aciertos</div>
                            <div className="stat"><strong>{questions.length}</strong>Total</div>
                        </div>
                        <div className="progress-bar"><div className="progress-fill" style={{width:`${prog}%`}}></div></div>
                    </div>
                    <div className="card">
                        <div className="question-number">Pregunta {cur + 1} de {questions.length}</div>
                        <p className="question-text">{q.question}</p>
                        <div className="options">
                            {q.options.map((o, i) => (
                                <div key={i} className={`option ${sel===i?'selected':''} ${res&&i===q.correct?'correct':''} ${res&&sel===i&&i!==q.correct?'incorrect':''}`} onClick={()=>!res&&setSel(i)}>
                                    <span className="option-label">{String.fromCharCode(97+i)})</span>{o}
                                </div>
                            ))}
                        </div>
                        {res && (
                            <div className={`feedback ${sel===q.correct?'correct':'incorrect'}`}>
                                {sel===q.correct ? "✅ ¡Correcto! Excelente análisis relacional." : `❌ Incorrecto. La respuesta era la: ${String.fromCharCode(97+q.correct)}`}
                            </div>
                        )}
                        <div className="buttons">
                            {!res ? <button className="btn-primary" onClick={onCheck} disabled={sel===null}>Verificar</button> : <button className="btn-primary" onClick={onNext}>Siguiente</button>}
                        </div>
                    </div>
                </div>
            );
        }
        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>